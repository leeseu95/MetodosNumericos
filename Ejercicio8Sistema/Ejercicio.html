<!--Seung Hoon Lee - A01021720
    Ejercicio 8 Almacen -->

<!DOCTYPE html>
<html>
<head>
  <title>Ejercicio 5 Tarjeta</title>
  <meta charset="utf-8">
  <script src="./assert.js"></script>
  <link rel="stylesheet" type="text/css" href="./assert.css">
</head>
<body> 
    <script type="text/javascript">
    var iteration = [];
    var myIter = {};

    var randArrival = [
    0.48355,
    0.98977,
    0.06533, 
    0.45128,
    0.15486,
    0.19241,
    0.15997,
    0.6794,
    0.90872,
    0.58997,
    0.68691,
    0.73488,
    0.23423,
    0.86675,
    0.56856];

    var randService = [
    0.83761,
    0.14387,
    0.51321,
    0.72472,
    0.05466,
    0.84609,
    0.29735,
    0.59076,
    0.76355,
    0.29549,
    0.61958,
    0.17267,
    0.10061,
    0.45645,
    0.86754,
    0.3534];

    var timeOfArrival = [];
    var arrivalTime = [];
    var timeOfStart = [];


    for (i = 0; i < 5000; i++) { //Iteramos 5000 veces
        randomNumCall = Math.random(); //Caso si contesta la llamada
        if (randomNumCall < 0.30) {
            randomGender = Math.random();

            if(randomGender >= 0 && randomGender < 0.80) { //Caso si es mujer
                randomSale = Math.random();

                if (randomSale >= 0 && randomSale < 0.15) { //Caso si es mujer + compra la tarjeta
                    randomCredit = Math.random();

                    if (randomCredit >= 0 && randomCredit < 0.60) { //Caso si se vende 5000 a mujer
                        profitSales += 200;
                        creditApproved += 5000;
                        numPeopleAccepted += 1;
                        temp.push(200);
                    }
                    if (randomCredit >= 0.60 && randomCredit < 0.90) { //Caso si se vende 10000 a mujer
                        profitSales += 400;
                        creditApproved += 10000;
                        numPeopleAccepted += 1;
                        temp.push(400);
                    }
                    if (randomCredit >= 0.90 && randomCredit < 1.00) { //Caso si se vende 15000 a mujer
                        profitSales += 600;
                        creditApproved += 15000;
                        numPeopleAccepted += 1;
                        temp.push(600);
                    }
                }
            }

            if(randomGender >= 0.80 && randomGender < 1.00) { //Caso si es hombre
                randomSale = Math.random();

                if (randomSale >= 0 && randomSale <= 0.25) { //Caso de que el hombre si se venda
                    randomCredit = Math.random();

                    if (randomCredit >= 0 && randomCredit < 0.10) { //Caso si se vende a hombre 5000
                        profitSales += 200;
                        creditApproved += 5000;
                        numPeopleAccepted += 1;
                        temp.push(200);
                    }
                    if (randomCredit >= 0.10 && randomCredit < 0.50) { //Caso si se vende a hombre 10000
                        profitSales += 400;
                        creditApproved += 10000;
                        numPeopleAccepted += 1;
                        temp.push(400);
                    }
                    if (randomCredit >= 0.50 && randomCredit < 0.80) { //Caso si se vende a hombre 15000
                        profitSales += 600;
                        creditApproved += 15000;
                        numPeopleAccepted += 1;
                        temp.push(600);
                    }
                    if (randomCredit >= 0.80 && randomCredit < 1.00) { //CAso si se vende a hombre 20000
                        profitSales += 800;
                        creditApproved += 20000;
                        numPeopleAccepted += 1;
                        temp.push(800);
                    }
                }
            }

        }
    }

    var averageProfit = (profitSales/5000);
    var summation = 0;
    var standardDeviation;
    for(i = 0; i < temp.length; i++) {
        summation += Math.pow((temp[i] - averageProfit),2); 
    }
    standardDeviation = Math.sqrt(summation / temp.length);
    //Reportamos numero ideal
    report("Cantidad que nuestro caller gano:");
    report(profitSales);
    report("Cantidad de credito aprovado:");
    report(creditApproved);
    report("Cantidad de gente que acepto la venta de tarjeta:");
    report(numPeopleAccepted);
    report("Desviacion Estandar:");
    report(standardDeviation);
	</script>
</body>
</html>