<!--Seung Hoon Lee - A01021720
    Quiz Workshop -->

<!DOCTYPE html>
<html>
<head>
  <title>Ejercicio Quiz Workshop</title>
  <meta charset="utf-8">
  <script src="./assert.js"></script>
  <link rel="stylesheet" type="text/css" href="./assert.css">
</head>
<body> 
    <script type="text/javascript">
    var money;
    var temp = [];
    //Variables para encontrar los numeros que necesitamos
    var successNum = 0;
    var iterations = 1;
    var percentageSuccess = 0.70;
    //Variables para el coche
    var carNum;
    var carService;
    var carCost;
    //Variables para el numero random de cada uno
    var randomCarNum;
    var randomService;
    var randomCarSize;
    var randomCash;
    
    carCost = 0;
    money = 0;
        for(i = 0; i < 5000; i++) {
            iterations ++;
            randomCarNum = Math.random(); //Empezamos el numero de coches que va a haber

            if (randomCarNum >=0 && randomCarNum < 0.05)
                carNum = 3;
            if (randomCarNum >=0.05 && randomCarNum < 0.20)
                carNum = 4;
            if (randomCarNum >=0.20 && randomCarNum < 0.50)
                carNum = 5;
            if (randomCarNum >=0.50 && randomCarNum < 0.75)
                carNum = 6;
            if (randomCarNum >=0.75 && randomCarNum < 0.90)
                carNum = 7;
            if (randomCarNum >=0.90 && randomCarNum < 1.00)
                carNum = 8;
            
            temp[i] = [];
            for (k = 0; k < carNum; k++){
                randomCarSize = Math.random();

                if (randomCarSize >= 0 && randomCarSize < 0.33) {
                    randomService = Math.random();

                    if(randomService >= 0 && randomService < 0.45) {
                        temp[i].push(350);
                        carCost += 350;
                    }
                    else if (randomService >= 0.45 && randomService < 0.60) {
                        carCost += 1575;
                        temp[i].push(1575);
                    }
                    else if (randomService >= 0.60 && randomService < 0.80) {
                        carCost += 1925;
                        temp[i].push(1925);
                    }
                    else if (randomService >= 0.80 && randomService < 0.90) {
                        carCost += 2540;
                        temp[i].push(2540);
                    }
                    else if (randomService >= 0.90 && randomService < 1.00) {
                        carCost += 700;
                        temp[i].push(700);
                    }
                }
                else if (randomCarSize >= 0.33 && randomCarSize < 0.66) {
                    randomService = Math.random();

                    if(randomService >= 0 && randomService < 0.25) {
                        carCost += 550;
                        temp[i].push(550);
                    }
                    else if (randomService >= 0.25 && randomService < 0.50) {
                        carCost += 1975;
                        temp[i].push(1975);
                    }
                    else if (randomService >= 0.50 && randomService < 0.65) {
                        carCost += 2545;
                        temp[i].push(2545);
                    }
                    else if (randomService >= 0.65 && randomService < 0.85) {
                        carCost += 2925;
                        temp[i].push(2925);
                    }
                    else if (randomService >= 0.85 && randomService < 1.00) {
                        carCost += 700;
                        temp[i].push(700);
                    }
                }
                else if (randomCarSize >= 0.66 && randomCarSize < 0.99) {
                    randomService = Math.random();

                    if(randomService >= 0 && randomService < 0.10) {
                        carCost += 750;
                        temp[i].push(750);
                    }
                    else if (randomService >= 0.10 && randomService < 0.25) {
                        carCost += 2275;
                        temp[i].push(2275);
                    }
                    else if (randomService >= 0.25 && randomService < 0.55) {
                        carCost += 2845;
                        temp[i].push(2845);
                    }
                    else if (randomService >= 0.55 && randomService < 0.95) {
                        carCost += 3415;
                        temp[i].push(3415);
                    }
                    else if (randomService >= 0.95 && randomService < 1.00) {
                        carCost += 700;
                        temp[i].push(700);   
                    }
                }
            }
        }
    money = carCost / 5000;
    console.log(money);
    var summation = 0;
    var standardDeviation = 0;
    for(i = 0; i < temp.length; i++) {
        var dayProfit = 0;
        temp[i].forEach(profit => dayProfit += profit); 
        summation += Math.pow((dayProfit - money),2); 
    }
    standardDeviation = Math.sqrt(summation / temp.length);
    
    report("Promedio de Gastos:");
    report(money);
    report("Desviacion Estandar:");
    report(standardDeviation);
    var range = (1.9599 * standardDeviation / Math.sqrt(5000));
    report("Rango para 75%: " + (money-range) + " - " + (money+range));
    range = (1.6448 * standardDeviation / Math.sqrt(5000));
    report("Rango para 80%: " + (money-range) + " - " + (money+range));
    range = (1.4395 * standardDeviation / Math.sqrt(5000));
    report("Rango para 85%: " + (money-range) + " - " + (money+range));
    range = (1.2815 * standardDeviation / Math.sqrt(5000));
    report("Rango para 90%: " + (money-range) + " - " + (money+range));
    range = (1.1503 * standardDeviation / Math.sqrt(5000));
    report("Rango para 95%: " + (money-range) + " - " + (money+range));

	</script>
</body>
</html>